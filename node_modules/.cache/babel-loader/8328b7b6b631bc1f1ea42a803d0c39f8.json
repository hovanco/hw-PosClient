{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/order/components/order-print/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { PrinterOutlined } from '@ant-design/icons';\nimport { Button, message } from 'antd';\nimport React, { useRef, useState } from 'react';\nimport { useReactToPrint } from 'react-to-print';\nimport { BillToPrintComponent } from '../../../template';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderPrint = ({\n  order,\n  callback\n}) => {\n  _s();\n\n  const componentRef = useRef();\n  const [loading, setLoading] = useState(false);\n\n  const onPrintError = () => {\n    message.error('In hoá đơn thất bại');\n    setLoading(false);\n  };\n\n  const onAfterPrint = () => {\n    setLoading(false);\n\n    if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n    documentTitle: `Hoá đơn ${order.code}`,\n    onBeforeGetContent: () => setLoading(true),\n    onAfterPrint: onAfterPrint,\n    onPrintError: onPrintError,\n    removeAfterPrint: true\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(PrinterOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 42\n      }, this),\n      loading: loading,\n      onClick: handlePrint,\n      children: \"In h\\xF3a \\u0111\\u01A1n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(BillToPrintComponent, {\n        order: order,\n        ref: componentRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(OrderPrint, \"ZrV6q3LrzHHPfqiQdY9lcSY0oAU=\", false, function () {\n  return [useReactToPrint];\n});\n\n_c = OrderPrint;\nexport default OrderPrint;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderPrint\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/order/components/order-print/index.tsx"],"names":["PrinterOutlined","Button","message","React","useRef","useState","useReactToPrint","BillToPrintComponent","OrderPrint","order","callback","componentRef","loading","setLoading","onPrintError","error","onAfterPrint","handlePrint","content","current","documentTitle","code","onBeforeGetContent","removeAfterPrint","display"],"mappings":";;;AAAA,SAASA,eAAT,QAAgC,mBAAhC;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,MAAhC;AACA,OAAOC,KAAP,IAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,eAAT,QAAgC,gBAAhC;AAEA,SAASC,oBAAT,QAAqC,mBAArC;;;;AAOA,MAAMC,UAAqB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAyB;AAAA;;AACnD,QAAMC,YAAY,GAAGP,MAAM,EAA3B;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMS,YAAY,GAAG,MAAM;AACvBZ,IAAAA,OAAO,CAACa,KAAR,CAAc,qBAAd;AACAF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAHD;;AAKA,QAAMG,YAAY,GAAG,MAAM;AACvBH,IAAAA,UAAU,CAAC,KAAD,CAAV;;AACA,QAAI,OAAOH,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,MAAAA,QAAQ;AACX;AACJ,GALD;;AAOA,QAAMO,WAAW,GAAGX,eAAe,CAAC;AAChCY,IAAAA,OAAO,EAAE,MAAMP,YAAY,CAACQ,OADI;AAEhCC,IAAAA,aAAa,EAAG,WAAUX,KAAK,CAACY,IAAK,EAFL;AAGhCC,IAAAA,kBAAkB,EAAE,MAAMT,UAAU,CAAC,IAAD,CAHJ;AAIhCG,IAAAA,YAAY,EAAEA,YAJkB;AAKhCF,IAAAA,YAAY,EAAEA,YALkB;AAMhCS,IAAAA,gBAAgB,EAAE;AANc,GAAD,CAAnC;AASA,sBACI;AAAA,4BACI,QAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,IAAI,eAAE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,cAA7B;AAAkD,MAAA,OAAO,EAAEX,OAA3D;AAAoE,MAAA,OAAO,EAAEK,WAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAK,MAAA,KAAK,EAAE;AAAEO,QAAAA,OAAO,EAAE;AAAX,OAAZ;AAAA,6BACI,QAAC,oBAAD;AAAsB,QAAA,KAAK,EAAEf,KAA7B;AAAoC,QAAA,GAAG,EAAEE;AAAzC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA,kBADJ;AAUH,CAnCD;;GAAMH,U;UAgBkBF,e;;;KAhBlBE,U;AAqCN,eAAeA,UAAf","sourcesContent":["import { PrinterOutlined } from '@ant-design/icons';\nimport { Button, message } from 'antd';\nimport React, { FC, useRef, useState } from 'react';\nimport { useReactToPrint } from 'react-to-print';\nimport { IOrderBill } from '../../../../../../collections/order';\nimport { BillToPrintComponent } from '../../../template';\n\ninterface Props {\n    order: IOrderBill;\n    callback?: () => void;\n}\n\nconst OrderPrint: FC<Props> = ({ order, callback }) => {\n    const componentRef = useRef<any>();\n    const [loading, setLoading] = useState(false);\n\n    const onPrintError = () => {\n        message.error('In hoá đơn thất bại');\n        setLoading(false);\n    }\n\n    const onAfterPrint = () => {\n        setLoading(false);\n        if (typeof callback === 'function') {\n            callback();\n        }\n    }\n\n    const handlePrint = useReactToPrint({\n        content: () => componentRef.current,\n        documentTitle: `Hoá đơn ${order.code}`,\n        onBeforeGetContent: () => setLoading(true),\n        onAfterPrint: onAfterPrint,\n        onPrintError: onPrintError,\n        removeAfterPrint: true,\n    });\n\n    return (\n        <>\n            <Button type='primary' icon={<PrinterOutlined />} loading={loading} onClick={handlePrint}>\n                In hóa đơn\n            </Button>\n            <div style={{ display: 'none' }}>\n                <BillToPrintComponent order={order} ref={componentRef} />\n            </div>\n        </>\n    );\n};\n\nexport default OrderPrint;\n"]},"metadata":{},"sourceType":"module"}