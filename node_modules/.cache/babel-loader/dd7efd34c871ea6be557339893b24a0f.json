{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/card-bill/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Card } from 'antd';\nimport React, { useMemo } from 'react';\nimport { ItemRow } from '../../../../components';\nimport formatMoney from '../../../../utils/formatMoney';\nimport { useSalesCounter } from '../../pages/sales-counters/state/context';\nimport { totalPriceProduct } from '../../ultils/order';\nimport BtnPay from './btn-pay';\nimport Payments from './payments';\nimport Shipment from './shipment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CardBill = props => {\n  _s();\n\n  const {\n    products,\n    customer,\n    shipment,\n    payments,\n    isRestrictAction\n  } = useSalesCounter();\n  const totalMoney = useMemo(() => totalPriceProduct(products) + shipment, [products, shipment]);\n  const paymentValue = payments.map(payment => {\n    return Number(payment.value);\n  });\n  const moneyCustomer = paymentValue.reduce((value, item) => item + value, 0);\n  const isDisabled = moneyCustomer - totalMoney < 0;\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"card-shadow\",\n    bodyStyle: {\n      padding: '16px 24px'\n    },\n    style: {\n      height: '100%'\n    },\n    children: customer && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-card-underline \",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Th\\xF4ng tin h\\xF3a \\u0111\\u01A1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bill\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cutomer-info bill-row\",\n          children: [/*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"T\\xEAn Kh\\xE1ch h\\xE0ng\",\n            children: customer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n            children: customer.phoneNo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"customer-payment bill-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bill-row-title\",\n            children: \"H\\xCCNH TH\\u1EE8C THANH TO\\xC1N\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Payments, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pay bill-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bill-row-title\",\n            children: \"Thanh to\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"T\\u1EA1m t\\xEDnh\",\n            children: [formatMoney(totalMoney), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"Ph\\xED v\\u1EADn chuy\\u1EC3n\",\n            children: /*#__PURE__*/_jsxDEV(Shipment, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total bill-row border-none\",\n          children: [/*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"TH\\xC0NH TI\\u1EC0N\",\n            children: [formatMoney(totalMoney), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"Ti\\u1EC1n kh\\xE1ch \\u0111\\u01B0a\",\n            children: [formatMoney(moneyCustomer), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ItemRow, {\n            label: \"Ti\\u1EC1n th\\u1EEBa tr\\u1EA3 kh\\xE1ch\",\n            children: [formatMoney(moneyCustomer - totalMoney), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(BtnPay, {\n          disabled: isDisabled || isRestrictAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CardBill, \"BV4KxpxoxJICil5BQH/X7CBmgQs=\", false, function () {\n  return [useSalesCounter];\n});\n\n_c = CardBill;\nexport default CardBill;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardBill\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/card-bill/index.tsx"],"names":["Card","React","useMemo","ItemRow","formatMoney","useSalesCounter","totalPriceProduct","BtnPay","Payments","Shipment","CardBill","props","products","customer","shipment","payments","isRestrictAction","totalMoney","paymentValue","map","payment","Number","value","moneyCustomer","reduce","item","isDisabled","padding","height","name","phoneNo"],"mappings":"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","sourcesContent":["import { Card } from 'antd';\nimport React, { useMemo } from 'react';\nimport { ItemRow } from '../../../../components';\nimport formatMoney from '../../../../utils/formatMoney';\nimport { useSalesCounter } from '../../pages/sales-counters/state/context';\nimport { Payment } from '../../pages/sales-counters/state/interface';\nimport { totalPriceProduct } from '../../ultils/order';\nimport BtnPay from './btn-pay';\nimport Payments from './payments';\nimport Shipment from './shipment';\n\ninterface Props {}\n\nconst CardBill = (props: Props) => {\n    const { products, customer, shipment, payments, isRestrictAction } = useSalesCounter();\n\n    const totalMoney = useMemo(() => totalPriceProduct(products) + shipment, [products, shipment]);\n\n    const paymentValue: number[] = payments.map((payment: Payment) => {\n        return Number(payment.value);\n    });\n\n    const moneyCustomer = paymentValue.reduce((value: number, item: number) => item + value, 0);\n\n    const isDisabled = moneyCustomer - totalMoney < 0;\n\n    return (\n        <Card\n            className='card-shadow'\n            bodyStyle={{\n                padding: '16px 24px',\n            }}\n            style={{ height: '100%' }}\n        >\n            {customer && (\n                <>\n                    <div className='title-card-underline '>\n                        <span>Thông tin hóa đơn</span>\n                    </div>\n\n                    <div className='bill'>\n                        <div className='cutomer-info bill-row'>\n                            <ItemRow label='Tên Khách hàng'>{customer.name}</ItemRow>\n                            <ItemRow label='Số điện thoại'>{customer.phoneNo}</ItemRow>\n                        </div>\n\n                        <div className='customer-payment bill-row'>\n                            <div className='bill-row-title'>HÌNH THỨC THANH TOÁN</div>\n\n                            <Payments />\n                        </div>\n\n                        <div className='pay bill-row'>\n                            <div className='bill-row-title'>Thanh toán</div>\n                            <ItemRow label='Tạm tính'>{formatMoney(totalMoney)} đ</ItemRow>\n                            {/* <ItemRow\n                                label={\n                                    <span style={{ color: '#307dd2' }}>Voucher/ khuyến mãi</span>\n                                }\n                            >\n                                0 đ\n                            </ItemRow> */}\n                            <ItemRow label='Phí vận chuyển'>\n                                <Shipment />\n                            </ItemRow>\n                        </div>\n\n                        <div className='total bill-row border-none'>\n                            <ItemRow label='THÀNH TIỀN'>{formatMoney(totalMoney)} đ</ItemRow>\n                            <ItemRow label='Tiền khách đưa'>{formatMoney(moneyCustomer)} đ</ItemRow>\n                            <ItemRow label='Tiền thừa trả khách'>\n                                {formatMoney(moneyCustomer - totalMoney)} đ\n                            </ItemRow>\n                        </div>\n\n                        <BtnPay disabled={isDisabled || isRestrictAction} />\n                    </div>\n                </>\n            )}\n        </Card>\n    );\n};\n\nexport default CardBill;\n"]},"metadata":{},"sourceType":"module"}