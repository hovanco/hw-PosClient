{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/template/bill.tsx\",\n    _s = $RefreshSig$();\n\nimport JsBarcode from 'jsbarcode';\nimport { compact, get, map } from 'lodash';\nimport React, { useEffect, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport InsaPosLogo from \"../../../../assets/images/insa-pos-logo.svg\";\nimport formatMoney from '../../../../utils/formatMoney';\nimport { formatDateTime } from '../../ultils/format';\nimport './bill.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Product = ({\n  product\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: get(product, 'productId.name')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"count\",\n        children: product.count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"price\",\n        children: [formatMoney(product.price), \" \\u0111\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"total-price\",\n        children: [formatMoney(+product.count * +product.price), \" \\u0111\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        width: '60vw'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_c = Product;\nconst BillToPrintComponent = /*#__PURE__*/React.forwardRef(_c2 = _s((props, ref) => {\n  _s();\n\n  const {\n    order\n  } = props;\n  const storeName = useSelector(state => state.store.store.name);\n  const {\n    products\n  } = props.order;\n  useEffect(() => {\n    JsBarcode(\"#code\", get(order, 'code'), {\n      displayValue: false\n    });\n  }, [order]);\n  const warehouseInfo = {\n    name: get(order, 'warehouseId.name'),\n    address: compact([get(order, 'warehouseId.address'), get(order, 'warehouseId.wardName'), get(order, 'warehouseId.districtName'), get(order, 'warehouseId.provinceName')]).join(', '),\n    phone: get(order, 'warehouseId.phoneNo')\n  };\n  const customerInfo = {\n    name: get(order, 'customer.name'),\n    phone: get(order, 'customer.phoneNo')\n  };\n  const orderProducts = useMemo(() => map(products, (item, index) => /*#__PURE__*/_jsxDEV(Product, {\n    product: item\n  }, get(item, 'productId._id') || get(item, 'productId') || index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this)), [products]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bill-to-print\",\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: InsaPosLogo,\n        alt: 'Insa Pos'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      children: [\"Chi nh\\xE1nh: \", warehouseInfo.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u0110\\u1ECBa ch\\u1EC9: \", warehouseInfo.address]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"S\\u1ED1 \\u0110T: \", warehouseInfo.phone]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Website: insa.app\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Email:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"NV: \", storeName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Ng\\xE0y b\\xE1n: \", formatDateTime(order.createdAt)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 'bold',\n        textAlign: 'center'\n      },\n      children: [\"HO\\xC1 \\u0110\\u01A0N \", order.code]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          id: \"code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"KH:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 18\n      }, this), \" \", customerInfo.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"S\\u1ED1 \\u0110T: \", customerInfo.phone]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-to-print\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          fontWeight: 'bold'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"count\",\n          children: \"SP/SL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"price\",\n          children: \"\\u0110\\u01A1n gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"total-price\",\n          children: \"Th\\xE0nh ti\\u1EC1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), orderProducts]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: '100%',\n          fontSize: '5vw'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"T\\u1ED5ng s\\u1ED1 l\\u01B0\\u1EE3ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: get(products, 'length')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"T\\u1ED5ng gi\\xE1 tr\\u1ECB:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [formatMoney(get(order, 'totalPrice')), \" \\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Ph\\xED VC:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [formatMoney(get(order, 'deliveryOptions.shipmentFeeForCustomer')), \" \\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Ph\\xED kh\\xE1c:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [0, \" \\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Ti\\u1EC1n ph\\u1EA3i thanh to\\xE1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [formatMoney(get(order, 'valuePayment')), \" \\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Ti\\u1EC1n \\u0111\\xE3 thanh to\\xE1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [formatMoney(get(order, 'paidAt') ? get(order, 'valuePayment') : 0), \" \\u0111\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ghi ch\\xFA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"C\\xE1m \\u01A1n b\\u1EA1n \\u0111\\xE3 mua h\\xE0ng!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}, \"DCghfdLmD+SZtD//FRqUmaX5q8U=\", false, function () {\n  return [useSelector];\n}));\n_c3 = BillToPrintComponent;\nexport default BillToPrintComponent;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Product\");\n$RefreshReg$(_c2, \"BillToPrintComponent$React.forwardRef\");\n$RefreshReg$(_c3, \"BillToPrintComponent\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/PosClient/src/features/dashboard/components/template/bill.tsx"],"names":["JsBarcode","compact","get","map","React","useEffect","useMemo","useSelector","formatMoney","formatDateTime","Product","product","count","price","width","BillToPrintComponent","forwardRef","props","ref","order","storeName","state","store","name","products","displayValue","warehouseInfo","address","join","phone","customerInfo","orderProducts","item","index","InsaPosLogo","fontWeight","createdAt","textAlign","code","display","justifyContent","fontSize"],"mappings":"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","sourcesContent":["import JsBarcode from 'jsbarcode';\nimport { compact, get, map } from 'lodash';\nimport React, { FC, useEffect, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport InsaPosLogo from '../../../../assets/images/insa-pos-logo.svg';\nimport { IOrderBill } from '../../../../collections/order';\nimport { IProduct } from '../../../../collections/product';\nimport formatMoney from '../../../../utils/formatMoney';\nimport { formatDateTime } from '../../ultils/format';\nimport './bill.less';\ninterface Props {\n    order: IOrderBill;\n}\ninterface IBillProduct extends IProduct {\n    count: number;\n}\ninterface PropsProduct {\n    product: IBillProduct;\n}\n\nconst Product: FC<PropsProduct> = ({ product }) => {\n    return <>\n        <span>{get(product, 'productId.name')}</span>\n        <div className=\"row\">\n            <span className=\"count\">{product.count}</span>\n            <span className=\"price\">{formatMoney(product.price)} đ</span>\n            <span className=\"total-price\">{formatMoney(+product.count * +product.price)} đ</span>\n        </div>\n        <hr style={{ width: '60vw' }} />\n    </>\n}\n\nconst BillToPrintComponent = React.forwardRef((props: Props, ref: any) => {\n    const { order } = props;\n    const storeName = useSelector((state: any) => state.store.store.name);\n    const { products } = props.order;\n\n    useEffect(() => {\n        JsBarcode(\"#code\", get(order, 'code'), { displayValue: false });\n    }, [order])\n\n    const warehouseInfo = {\n        name: get(order, 'warehouseId.name'),\n        address: compact([get(order, 'warehouseId.address'),\n        get(order, 'warehouseId.wardName'),\n        get(order, 'warehouseId.districtName'),\n        get(order, 'warehouseId.provinceName')]).join(', '),\n        phone: get(order, 'warehouseId.phoneNo'),\n    }\n\n    const customerInfo = {\n        name: get(order, 'customer.name'),\n        phone: get(order, 'customer.phoneNo'),\n    }\n\n    const orderProducts = useMemo(() => map(products, (item: IBillProduct, index: number) => \n        <Product product={item} key={get(item, 'productId._id') || get(item, 'productId') || index}/>\n    ), [products]);\n\n    return (\n        <div className=\"bill-to-print\" ref={ref}>\n            <div className='logo'>\n                <img src={InsaPosLogo} alt={'Insa Pos'}/>\n            </div>\n            <div style={{ fontWeight: 'bold' }}>Chi nhánh: {warehouseInfo.name}</div>\n            <div>Địa chỉ: {warehouseInfo.address}</div>\n            <div>Số ĐT: {warehouseInfo.phone}</div>\n            <div>Website: insa.app</div>\n            <div>Email:</div>\n            <hr />\n            <div>NV: {storeName}</div>\n            <div>Ngày bán: {formatDateTime(order.createdAt)}</div>\n            <div style={{ fontWeight: 'bold', textAlign: 'center' }}>HOÁ ĐƠN {order.code}</div>\n            <div>\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <svg id=\"code\"></svg>\n                </div>\n            </div>\n            <div><span>KH:</span> {customerInfo.name}</div>\n            <div>Số ĐT: {customerInfo.phone}</div>\n            <hr />\n            <div className=\"products-to-print\">\n                <div className=\"row\" style={{ fontWeight: 'bold' }}>\n                    <span className=\"count\">SP/SL</span>\n                    <span className=\"price\">Đơn giá</span>\n                    <span className=\"total-price\">Thành tiền</span>\n                </div>\n                {orderProducts}\n            </div>\n            <div className=\"order-summary\">\n                <table style={{ width: '100%', fontSize: '5vw' }}>\n                    <tbody>\n                        <tr>\n                            <td>Tổng số lượng:</td>\n                            <td>{get(products, 'length')}</td>\n                        </tr>\n                        <tr>\n                            <td>Tổng giá trị:</td>\n                            <td>{formatMoney(get(order, 'totalPrice'))} đ</td>\n                        </tr>\n                        <tr>\n                            <td>Phí VC:</td>\n                            <td>{formatMoney(get(order, 'deliveryOptions.shipmentFeeForCustomer'))} đ</td>\n                        </tr>\n                        <tr>\n                            <td>Phí khác:</td>\n                            <td>{0} đ</td>\n                        </tr>\n                        <tr>\n                            <td>Tiền phải thanh toán:</td>\n                            <td>{formatMoney(get(order, 'valuePayment'))} đ</td>\n                        </tr>\n                        <tr style={{ fontWeight: 'bold' }}>\n                            <td >Tiền đã thanh toán:</td>\n                            <td>{formatMoney(get(order, 'paidAt') ? get(order, 'valuePayment') : 0)} đ</td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div>Ghi chú</div>\n            </div>\n            <div style={{ textAlign: 'center' }}>\n                Cám ơn bạn đã mua hàng!\n            </div>\n        </div>\n    )\n});\n\nexport default BillToPrintComponent;"]},"metadata":{},"sourceType":"module"}